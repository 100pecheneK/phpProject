#
# ВНИМАНИЕ! Это временный файл, его редактирование бессмысленно!
#

#-----------------------------------------------#
# Основная конфигурация сервера Nginx
#-----------------------------------------------#

worker_processes    1;
pid                 "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp/nginx.pid";
error_log           "c:/users/admin/documents/github/phpproject/ospanel/userdata/logs/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14_error.log" warn;

events {
worker_connections  1024;
}

http {

include             "c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/conf/mimen.types";
error_log           "c:/users/admin/documents/github/phpproject/ospanel/userdata/logs/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14_error.log" warn;
default_type        application/octet-stream;

log_format main '$host: $remote_addr [$time_local] '
'"$request" "$http_referer" $status $bytes_sent '
'"$http_user_agent" "$http_x_forwarded_for"';
access_log "c:/users/admin/documents/github/phpproject/ospanel/userdata/logs/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14_queries.log" main;

autoindex                     on;
tcp_nopush                    on;
tcp_nodelay                   on;
reset_timedout_connection     on;
ignore_invalid_headers        off;
server_tokens                 off;
server_name_in_redirect       off;
keepalive_timeout             60 60;
client_header_timeout         1m;
send_timeout                  1m;

#-----------------------------------------------#
# Конфигурация буферов
#-----------------------------------------------#

client_body_timeout           1m;
client_body_buffer_size       256k;
client_header_buffer_size     4k;
client_max_body_size          50m;
large_client_header_buffers   4 8k;
server_names_hash_bucket_size 512;
server_names_hash_max_size    4096;

#-----------------------------------------------#
# Конфигурация GZIP
#-----------------------------------------------#

gzip                          on;
gzip_buffers                  4 64k;
gzip_comp_level               6;
gzip_disable                  "msie6";
gzip_min_length               32768;
gzip_proxied                  any;
gzip_static                   off;
gzip_vary                     on;
gzip_types                    text/plain text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;

#-----------------------------------------------#
# Указание временных каталогов
#-----------------------------------------------#

client_body_temp_path         "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp" 1 2;
fastcgi_temp_path             "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp" 1 2;
proxy_temp_path               "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp" 1 2;
scgi_temp_path                "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp" 1 2;
uwsgi_temp_path               "c:/users/admin/documents/github/phpproject/ospanel/userdata/temp" 1 2;

#-----------------------------------------------#
# Конфигурация SSL
#-----------------------------------------------#

ssl_ciphers                   ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA;
ssl_session_cache             builtin:5000;
ssl_dhparam                   "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/dhparam.pem";
ssl_prefer_server_ciphers     on;
ssl_protocols                 TLSv1 TLSv1.1 TLSv1.2;
ssl_session_timeout           10m;

#-----------------------------------------------#
# Внимание!
# Служебная конфигурация хоста сервера Nginx
# Данный блок не предназначен для модификации!
# Первичный виртуальный хост "по умолчанию"
#-----------------------------------------------#

server {
listen       *:80  default_server;
listen       *:443 default_server ssl;

ssl_certificate           "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.crt";
ssl_certificate_key       "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.key";

#add_header Strict-Transport-Security "max-age=94608000";

location / {
root     c:/users/admin/documents/github/phpproject/ospanel/modules/system/html/default;
index    index.html;
}

location ^~ /apacheicons/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/icons/;
}
location ^~ /apacheerror/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/error/;
}

# Подключение веб-инструментов
#---------------------------------------#
# <Не изменяйте этот блок конфигурации>

location /openserver/ {
allow    all;
allow    127.0.0.0/8;
allow    ::1/128;
allow    127.0.0.1;
deny     all;

location /openserver/server-status {
stub_status on;
}

proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/openserver/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;

location ~* ^/openserver/.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/modules/system/html";
expires  7d;
}
}

# <Не изменяйте этот блок конфигурации/>
#---------------------------------------#
}

#---------------------------------------------#
# Конец конфигурации хоста "по умолчанию"
#---------------------------------------------#
#-----------------------------------------------#
# Конфигурация хоста для сервера Nginx
# Начало блока конфигурации хоста
#-----------------------------------------------#

server {
listen         *:80;
listen         *:443 ssl;
server_name    localhost 127.0.0.1 ;

ssl_certificate               "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.crt";
ssl_certificate_key           "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.key";

#add_header Strict-Transport-Security "max-age=94608000";

#if ($request_method !~* ^(GET|HEAD|POST)$ ){return 403;}
location ~ /\. {deny all;}

location / {
proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;
}

location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/domains/localhost";
expires  7d;
}

location ^~ /apacheicons/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/icons/;
}
location ^~ /apacheerror/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/error/;
}

# Подключение веб-инструментов
#---------------------------------------#
# <Не изменяйте этот блок конфигурации>

location /openserver/ {
allow    all;
allow    127.0.0.0/8;
allow    ::1/128;
allow    127.0.0.1;
deny     all;

location /openserver/server-status {
stub_status on;
}

proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/openserver/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;

location ~* ^/openserver/.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/modules/system/html";
expires  7d;
}
}

# <Не изменяйте этот блок конфигурации/>
#---------------------------------------#
}

#-----------------------------------------------#
# Конец блока конфигурации хоста
#-----------------------------------------------#
#-----------------------------------------------#
# Конфигурация хоста для сервера Nginx
# Начало блока конфигурации хоста
#-----------------------------------------------#

server {
listen         *:80;
listen         *:443 ssl;
server_name    mysite 172.18.164.57 54.39.176.97 testblog.test ;

ssl_certificate               "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.crt";
ssl_certificate_key           "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.key";

#add_header Strict-Transport-Security "max-age=94608000";

#if ($request_method !~* ^(GET|HEAD|POST)$ ){return 403;}
location ~ /\. {deny all;}

location / {
proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;
}

location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/domains/mysite";
expires  7d;
}

location ^~ /apacheicons/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/icons/;
}
location ^~ /apacheerror/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/error/;
}

# Подключение веб-инструментов
#---------------------------------------#
# <Не изменяйте этот блок конфигурации>

location /openserver/ {
allow    all;
allow    127.0.0.0/8;
allow    ::1/128;
allow    127.0.0.1;
deny     all;

location /openserver/server-status {
stub_status on;
}

proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/openserver/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;

location ~* ^/openserver/.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/modules/system/html";
expires  7d;
}
}

# <Не изменяйте этот блок конфигурации/>
#---------------------------------------#
}

#-----------------------------------------------#
# Конец блока конфигурации хоста
#-----------------------------------------------#
#-----------------------------------------------#
# Конфигурация хоста для сервера Nginx
# Начало блока конфигурации хоста
#-----------------------------------------------#

server {
listen         *:80;
listen         *:443 ssl;
server_name    mystackOverflow 192.168.0.104 ;

ssl_certificate               "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.crt";
ssl_certificate_key           "c:/users/admin/documents/github/phpproject/ospanel/userdata/config/cert_files/server.key";

#add_header Strict-Transport-Security "max-age=94608000";

#if ($request_method !~* ^(GET|HEAD|POST)$ ){return 403;}
location ~ /\. {deny all;}

location / {
proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;
}

location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/domains/mystackOverflow";
expires  7d;
}

location ^~ /apacheicons/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/icons/;
}
location ^~ /apacheerror/ {
alias    c:/users/admin/documents/github/phpproject/ospanel/modules/http/Apache_2.4-PHP_7.0-7.1-x64+Nginx_1.14/error/;
}

# Подключение веб-инструментов
#---------------------------------------#
# <Не изменяйте этот блок конфигурации>

location /openserver/ {
allow    all;
allow    127.0.0.0/8;
allow    ::1/128;
allow    127.0.0.1;
deny     all;

location /openserver/server-status {
stub_status on;
}

proxy_buffer_size         64k;
proxy_buffering           on;
proxy_buffers             4 64k;
proxy_connect_timeout     5s;
proxy_ignore_client_abort off;
proxy_intercept_errors    off;
proxy_pass                http://127.0.0.1:8080/openserver/;
proxy_pass_header         Server;
proxy_read_timeout        5m;
proxy_redirect            off;
proxy_send_timeout        5m;
proxy_set_header          Host $host;
proxy_set_header          X-Forwarded-For $http_x_forwarded_for;
proxy_set_header          X-Real-IP $remote_addr;
proxy_set_header          X-Forwarded-Proto $scheme;

location ~* ^/openserver/.+\.(jpg|jpeg|gif|png|ico|css|js|cur|swf)$ {
root     "c:/users/admin/documents/github/phpproject/ospanel/modules/system/html";
expires  7d;
}
}

# <Не изменяйте этот блок конфигурации/>
#---------------------------------------#
}

#-----------------------------------------------#
# Конец блока конфигурации хоста
#-----------------------------------------------#


}
